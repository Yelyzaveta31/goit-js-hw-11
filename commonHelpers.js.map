{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// У файлі render-functions.js створи функції для відображення елементів інтерфейсу.\nexport const createGalleryCard = data => {\n  const { largeImageURL, webformatURL, tags, likes, views, comments, downloads } = data;\n  return `\n  <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" />\n      </a>\n  <ul class=\"item-info\">\n      <li class=\"item-likes\">\n          <p class=\"title\">Likes</p>\n          <p class=\"value\">${likes}</p>\n      </li>\n      <li class=\"item-views\">\n          <p class=\"title\">Views</p>\n          <p class=\"value\">${views}</p>\n      </li>\n      <li class=\"item-comments\">\n          <p class=\"title\">Comments</p>\n          <p class=\"value\">${comments}</p>\n      </li>\n      <li class=\"item-downloads\">\n          <p class=\"title\">Downloads</p>\n          <p class=\"value\">${downloads}</p>\n      </li>\n  </ul>\n  </li>`;\n};\n","const  BASE_URL = 'https://pixabay.com';\nconst API_KEY = '43329687-8aa5e523ea6ec5a66d8459b66';\n\nexport function fetchImageByQuery(query) {\n    const searchParams = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        orientation: 'horizontal',\n        safesearch: 'true',\n        image_type: 'photo',\n    });\n\nreturn fetch(`${BASE_URL}/api/?${searchParams}`)\n.then(response => {\n    if(!response.ok){\n        throw new Error(response.status);\n    }\n    return response.json();\n})\n.catch(error => {\n    console.error(error);\n});\n};\n","// У файлі main.js напиши всю логіку роботи додатка.\n\nimport { createGalleryCard } from \"./js/render-function\";\nimport { fetchImageByQuery } from \"./js/pixabay-api\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.querySelector('.search-form');\n\nconst gallery = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst searchFormSubmit = event => {\n    event.preventDefault();\n    const searchQuery = event.target.elements.user_image.value.trim();\n    if (searchQuery === '') {\n        gallery.innerHTML = '';\n        iziToast.warning({\n            title: 'Caution',\n            message: 'Please enter a search query',\n            position: 'topRight',\n            timeout: 2000,\n        });\n        event.target.reset();\n        return;\n    }\n\n   loaderEl.classList.add('is-visible');\n  \nfetchImageByQuery(searchQuery)\n.finally(()  => {\n    loaderEl.classList.remove('is-visible')\n})\n.then(data => {\n    if (data.hits.length === 0) {\n        gallery.innerHTML = '';\n        event.target.reset();\n        iziToast.error({\n                title: 'Error',\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: 'topRight',\n                maxWidth: '432px',\n                timeout: 3000,\n        \n        });\n    }\n    else{\n    const imageTemplate = data.hits.map(image => createGalleryCard(image)).join('');\n        gallery.innerHTML = imageTemplate;\n        lightbox.refresh();}\n})\n.catch(error => {\n    iziToast.error({\n        title: 'Error',\n        message: \"Sorry, there are no images matching your search query. Please try again!\",   \n       position: 'topRight',\n       maxWidth: '432px',\n       timeout: 3000,\n})\n        console.log(error);\n});\n};\n\nsearchForm.addEventListener('submit', searchFormSubmit);\n\n\nconst lightbox = new SimpleLightbox('.gallery a');\n"],"names":["createGalleryCard","data","largeImageURL","webformatURL","tags","likes","views","comments","downloads","BASE_URL","API_KEY","fetchImageByQuery","query","searchParams","response","error","searchForm","gallery","loaderEl","searchFormSubmit","event","searchQuery","iziToast","imageTemplate","image","lightbox","SimpleLightbox"],"mappings":"6vBACO,MAAMA,EAAoBC,GAAQ,CACvC,KAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EACjF,MAAO;AAAA;AAAA,sCAE6BC,CAAa;AAAA,sBAC7BC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6BAKnBC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRC,CAAS;AAAA;AAAA;AAAA,QAItC,EC3BOC,EAAW,sBACZC,EAAU,qCAET,SAASC,EAAkBC,EAAO,CACrC,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,YAAa,aACb,WAAY,OACZ,WAAY,OACpB,CAAK,EAEL,OAAO,MAAM,GAAGH,CAAQ,SAASI,CAAY,EAAE,EAC9C,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MACpB,CAAC,EACA,MAAMC,GAAS,CACZ,QAAQ,MAAMA,CAAK,CACvB,CAAC,CACD,CCXA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAElDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAmBC,GAAS,CAC9BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,WAAW,MAAM,OAC3D,GAAIC,IAAgB,GAAI,CACpBJ,EAAQ,UAAY,GACpBK,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8BACT,SAAU,WACV,QAAS,GACrB,CAAS,EACDF,EAAM,OAAO,QACb,MACH,CAEFF,EAAS,UAAU,IAAI,YAAY,EAEtCP,EAAkBU,CAAW,EAC5B,QAAQ,IAAO,CACZH,EAAS,UAAU,OAAO,YAAY,CAC1C,CAAC,EACA,KAAKjB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACrBgB,EAAQ,UAAY,GACpBG,EAAM,OAAO,QACbE,EAAS,MAAM,CACP,MAAO,QACP,QAAS,2EACT,SAAU,WACV,SAAU,QACV,QAAS,GAEzB,CAAS,MAED,CACJ,MAAMC,EAAgBtB,EAAK,KAAK,IAAIuB,GAASxB,EAAkBwB,CAAK,CAAC,EAAE,KAAK,EAAE,EAC1EP,EAAQ,UAAYM,EACpBE,EAAS,QAAO,CAAG,CAC3B,CAAC,EACA,MAAMV,GAAS,CACZO,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACV,SAAU,WACV,SAAU,QACV,QAAS,GAChB,CAAC,EACO,QAAQ,IAAIP,CAAK,CACzB,CAAC,CACD,EAEAC,EAAW,iBAAiB,SAAUG,CAAgB,EAGtD,MAAMM,EAAW,IAAIC,EAAe,YAAY"}